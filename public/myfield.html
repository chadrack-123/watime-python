<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyField - Irrigation Monitoring</title>
    <link rel="stylesheet" href="myfield.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/alpinejs" defer></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="myfield.js"></script>
</head>

<body>

  <div class="overlay"></div>

  <nav class="navbar">
    <div class="logo">
        <ul class="navbar-links">
            <li><a href="/dashboard" class="nav-link">WaTime App</a></li>
        </ul>
    </div>
    <div>
        <ul class="navbar-links">
            <li><a href="/dashboard" class="nav-link">Home</a></li>
            <li><a href="/myfield" class="nav-link">My Field</a></li>
            <li><a href="/tips" class="nav-link">Tips</a></li>
            <li><a href="/profile" class="nav-link">Profile</a></li>
            <li><a href="/logout" class="nav-link">Logout</a></li>
        </ul>
    </div>
</nav>
   
    <!-- Single x-data declaration for the entire container -->
    <div class="container" x-data="irrigationData()">
        <div class="section">
          <h2>Monitoring Charts</h2>
          <div class="chart-container">
            <div class="chart">
              <h3>Water Usage Consumption</h3>
              <canvas id="waterUsageChart"></canvas>
            </div>
            <div class="chart">
              <h3>Soil Moisture Level</h3>
              <canvas id="moistureLevelChart"></canvas>
            </div>
          </div>
        </div>
  
        <!-- Automation Controls Section -->
        <div class="section automation-controls">
          <h2>Automation Controls</h2>
  
          <!-- Start/Stop Irrigation -->
          <div class="control">
            <h3 style="color: rgb(185, 185, 185);">Irrigation Control</h3>
            <button class="startBtn" @click="startIrrigation" :disabled="isIrrigating">
              Start Irrigation
            </button>
            <button class="stopBtn" @click="stopIrrigation" :disabled="!isIrrigating">
              Stop Irrigation
            </button>
          </div>
  
          <!-- Display Alerts -->
          <div class="alerts">
              <p style="color: rgb(4, 255, 67);" x-text="alerts"></p> <!-- Show alerts dynamically -->
          </div>
        </div>
  
        <!-- Enhanced status cards -->
        <div class="section status-cards">
          <div class="status-card">
            <img class="icon-image" src="assets/temparature.png" alt="Temperature" />
            <h3>Temperature</h3>
            <p>Current temperature: <span x-text="temperature"></span></p>
          </div>
        
          <div class="status-card">
            <img class="icon-image" src="assets/sun.png" alt="Weather Forecast" />
            <h3>Weather Forecast</h3>
            <p>Forecast: <span x-text="forecast"></span></p>
          </div>
        
          <div class="status-card">
            <img class="icon-image" src="assets/wall-clock.png" alt="Watering Schedule" />
            <h3>Watering Schedule</h3>
            <p>Next watering: <span x-text="nextWatering"></span></p>
          </div>
        
          <div class="status-card">
            <img class="icon-image" src="assets/warning.png" alt="Alerts" />
            <h3>Alerts</h3>
            <p>Status: <span x-text="status"></span></p>
          </div>
        </div>

      </div>
</body>

</html>
